    /**
     * Convenience method for creating a weblog folder.
     */
    public static FolderData setupFolder(WebsiteData weblog,
                                         String name,
                                         FolderData parent)
            throws Exception {
        
        BookmarkManager mgr = RollerFactory.getRoller().getBookmarkManager();
        FolderData root = mgr.getRootFolder(weblog);
        
        FolderData folderParent = root;
        if(parent != null) {
            folderParent = parent;
        }
        FolderData testFolder = new FolderData(folderParent, name, null, weblog);
        mgr.saveFolder(testFolder);
        
        // flush to db
        RollerFactory.getRoller().flush();
        
        // query for object
        FolderData cat = mgr.getFolder(testFolder.getId());
        
        if(testFolder == null)
            throw new RollerException("error setting up weblog folder");
        
        return testFolder;
    }

