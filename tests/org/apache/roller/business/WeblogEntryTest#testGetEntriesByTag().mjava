    public void testGetEntriesByTag() throws Exception {

        WeblogManager mgr = RollerFactory.getRoller().getWeblogManager();

        // setup some test entries to use
        WeblogEntryData entry = TestUtils.setupWeblogEntry("entry1", testWeblog
                .getDefaultCategory(), testWeblog, testUser);
        entry.addTag("testTag");
        String id = entry.getId();
        mgr.saveWeblogEntry(entry);
        TestUtils.endSession(true);

        List results = mgr.getWeblogEntries(testWeblog, null, null, null, null,
                Arrays.asList(new String[] { "testTag" }), null, null, null, 0,
                -1);
        assertEquals(1, results.size());
        WeblogEntryData testEntry = (WeblogEntryData) results.iterator().next();
        assertEquals(entry, testEntry);

        // teardown our test entry
        TestUtils.teardownWeblogEntry(id);
        TestUtils.endSession(true);
    }  

