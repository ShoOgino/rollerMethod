    /**
     * Test all folder lookup methods.
     */
    public void testFolderLookups() throws Exception {
        
        BookmarkManager bmgr = getRoller().getBookmarkManager();
        
        FolderData root = bmgr.getRootFolder(testWeblog);
        
        FolderData f1 = new FolderData(root, "f1", null, testWeblog);
        bmgr.saveFolder(f1);
        FolderData f2 = new FolderData(f1, "f2", null, testWeblog);
        bmgr.saveFolder(f2);
        FolderData f3 = new FolderData(root, "f3", null, testWeblog);
        bmgr.saveFolder(f3);
        
        TestUtils.endSession(true);
        
        // test lookup by id
        FolderData testFolder = bmgr.getFolder(f1.getId());
        assertNotNull(testFolder);
        assertEquals("/f1", testFolder.getPath());
        
        // test lookup root folder
        testFolder = null;
        testFolder = bmgr.getRootFolder(testWeblog);
        assertNotNull(testFolder);
        assertEquals("/", testFolder.getPath());
        assertNull(testFolder.getParent());
        
        // test lookup by path
        testFolder = null;
        testFolder = bmgr.getFolder(testWeblog, "/f1/f2");
        assertNotNull(testFolder);
        assertEquals("/f1/f2", testFolder.getPath());
        assertEquals("f2", testFolder.getName());
        assertEquals("f1", testFolder.getParent().getName());
        
        // test lookup of all folders for weblog
        List allFolders = bmgr.getAllFolders(testWeblog);
        assertNotNull(allFolders);
        assertEquals(4, allFolders.size());
    }

