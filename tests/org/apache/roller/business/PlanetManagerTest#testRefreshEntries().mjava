    public void testRefreshEntries() throws Exception {
        
        PlanetManager planet = RollerFactory.getRoller().getPlanetManager();
        
        String feed_url1 = "http://rollerweblogger.org/roller/feed/entries/rss";
        
        {
            PlanetConfigData config = planet.getConfiguration();
            config.setCacheDir("." + File.separator + "planet-cache");
            planet.saveConfiguration(config);
            
            PlanetGroupData group = new PlanetGroupData();
            group.setDescription("test_group_desc");
            group.setHandle("test_handle");
            group.setTitle("test_title");
            planet.saveGroup(group);
            
            PlanetSubscriptionData sub = new PlanetSubscriptionData();
            sub.setFeedURL(feed_url1);
            planet.saveSubscription(sub);
            
            group.getSubscriptions().add(sub);
            planet.saveGroup(group);
            TestUtils.endSession(true);
        }
        {
            planet.refreshEntries();
            TestUtils.endSession(true);
            
            PlanetSubscriptionData sub = planet.getSubscription(feed_url1);
            int entriesSize = sub.getEntries().size();
            
            PlanetGroupData group = planet.getGroup("test_handle");
            assertNotNull(group);
            
            planet.deleteGroup(group);
            planet.deleteSubscription(sub);
            TestUtils.endSession(true);
            
            assertTrue(entriesSize > 0);
            
            Object feed = planet.getSubscription(feed_url1);
            assertNull(feed);
        }
    }

