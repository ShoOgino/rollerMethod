    /**
     * Convenience method for creating a comment.
     */
    public static CommentData setupComment(String content, WeblogEntryData entry)
            throws Exception {
        
        CommentData testComment = new CommentData();
        testComment.setName("test");
        testComment.setEmail("test");
        testComment.setUrl("test");
        testComment.setRemoteHost("foofoo");
        testComment.setContent("this is a test comment");
        testComment.setPostTime(new java.sql.Timestamp(new java.util.Date().getTime()));
        testComment.setWeblogEntry(entry);
        testComment.setStatus(CommentData.APPROVED);
        
        // store testComment
        WeblogManager mgr = RollerFactory.getRoller().getWeblogManager();
        mgr.saveComment(testComment);
        
        // flush to db
        RollerFactory.getRoller().flush();
        
        // query for object
        CommentData comment = mgr.getComment(testComment.getId());
        
        if(comment == null)
            throw new RollerException("error setting up comment");
        
        return comment;
    }

