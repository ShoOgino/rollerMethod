    public void testNextPrevPost() throws RollerException
    {
        getRoller().begin(UserData.SYSTEM_USER);
        WeblogManager wmgr = getRoller().getWeblogManager();
        
        // category: root
        WeblogEntryData entry0 = (WeblogEntryData)mEntriesCreated.get(0);
        WeblogEntryData entry1 = (WeblogEntryData)mEntriesCreated.get(1);
        WeblogEntryData entry2 = (WeblogEntryData)mEntriesCreated.get(2);
        WeblogEntryData entry3 = (WeblogEntryData)mEntriesCreated.get(3);
        WeblogEntryData entry4 = (WeblogEntryData)mEntriesCreated.get(4);
        WeblogEntryData entry5 = (WeblogEntryData)mEntriesCreated.get(5);
        WeblogEntryData entry6 = (WeblogEntryData)mEntriesCreated.get(6);
        WeblogEntryData entry7 = (WeblogEntryData)mEntriesCreated.get(7);
        
        // next and prev only get published entries
        
        // entry0 is the first published entry
        assertEquals(null, wmgr.getPreviousEntry(entry0, null));
        
        // next published entry is entry2
        assertEquals(entry1, wmgr.getNextEntry(entry0, null));
        
        // prev to entry2 is entry 0
        assertEquals(entry0, wmgr.getPreviousEntry(entry2, null));
        
        // constrain prev/next by category
        
        WeblogCategoryData cat = (WeblogCategoryData)mCategoriesCreated.get(1);
        
        assertEquals(null, wmgr.getPreviousEntry(entry5, "/root-cat1/root-cat1-cat0"));
        assertEquals(entry7, wmgr.getNextEntry(entry5, "/root-cat1/root-cat1-cat0"));
        assertEquals(entry5, wmgr.getPreviousEntry(entry7, "/root-cat1/root-cat1-cat0"));
        
        getRoller().rollback();
    }

