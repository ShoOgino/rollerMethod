    public void testCanSave() 
    {
        try 
        {
            // do some setup for our test
            Roller mRoller = RollerFactory.getRoller();
            
            UserManager umgr = mRoller.getUserManager();
            UserData user = umgr.getUser("FileManagerTest_userName");
            WebsiteData mWebsite = (WebsiteData)umgr.getWebsites(user,null).get(0);
            
            if(mWebsite == null)
                mWebsite = this.createTestUser();
            
            // update roller properties to prepare for test
            PropertiesManager pmgr = mRoller.getPropertiesManager();
            Map config = pmgr.getProperties();
            ((RollerPropertyData)config.get("uploads.enabled")).setValue("false");
            ((RollerPropertyData)config.get("uploads.types.forbid")).setValue("gif");
            ((RollerPropertyData)config.get("uploads.dir.maxsize")).setValue("1.00");
            pmgr.store(config);
            mRoller.commit();
            
            FileManager fmgr = new FileManagerImpl();
            RollerMessages msgs = new RollerMessages();
            assertFalse(fmgr.canSave(mWebsite.getHandle(), "test.gif", 2500000, msgs));
            //assertEquals(4, msgs.getErrorCount());
        }
        catch (Exception e)
        {
            e.printStackTrace();
        }
    }

