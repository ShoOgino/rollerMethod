    public void testSave()
    {
        try 
        {
            // do some setup for our test
            Roller roller = RollerFactory.getRoller();
            UserManager umgr = roller.getUserManager();
            UserData user = umgr.getUser("FileManagerTest_userName");
            WebsiteData mWebsite = (WebsiteData)umgr.getWebsites(user,null).get(0);
            
            if(mWebsite == null)
                mWebsite = this.createTestUser();
            
            // update roller properties to prepare for test
            PropertiesManager pmgr = roller.getPropertiesManager();
            Map config = pmgr.getProperties();
            ((RollerPropertyData)config.get("uploads.enabled")).setValue("true");
            ((RollerPropertyData)config.get("uploads.types.allowed")).setValue("opml");
            ((RollerPropertyData)config.get("uploads.dir.maxsize")).setValue("1.00");
            pmgr.store(config);
            roller.commit();
            
            /* NOTE: upload dir for unit tests is set in 
               roller/personal/testing/roller-custom.properties */
            FileManager fmgr = new FileManagerImpl();
            RollerMessages msgs = new RollerMessages();
            InputStream is = getClass().getResourceAsStream("/bookmarks.opml");
            fmgr.saveFile(mWebsite.getHandle(), "bookmarks.opml", 1545, is);
            
            assertEquals(1, fmgr.getFiles(mWebsite.getHandle()).length);
            
            fmgr.deleteFile(mWebsite.getHandle(), "bookmarks.opml");
            Thread.sleep(2000);
            assertEquals(0, fmgr.getFiles(mWebsite.getHandle()).length);
        }
        catch (Exception e)
        {
            e.printStackTrace();
        }
    }

