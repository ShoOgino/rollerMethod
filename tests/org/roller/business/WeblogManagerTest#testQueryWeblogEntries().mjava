    public void testQueryWeblogEntries() throws RollerException
    {
        getRoller().begin(UserData.SYSTEM_USER);
        WeblogManager wmgr = getRoller().getWeblogManager();
        UserManager umgr = getRoller().getUserManager();
        
        WebsiteData website = (WebsiteData)mWebsitesCreated.get(0);
        website = umgr.retrieveWebsite(website.getId());

        // PUBLISHISHED ONLY
        List publishedEntries = wmgr.getWeblogEntries(
                        website,                    // userName
                        null,                       // startDate
                        new Date(),                 // endDate
                        null,                       // catName
                        WeblogEntryData.PUBLISHED,  // status
                        null,                       // sortby
                        null);                      // maxEntries
        assertEquals(mExpectedPublishedEntryCount, publishedEntries.size());
                    
        // DRAFT ONLY
        List draftEntries = wmgr.getWeblogEntries(
                        website,                 // userName
                        null,                    // startDate
                        new Date(),              // endDate
                        null,                    // catName
                        WeblogEntryData.DRAFT,   // status
                        null,                    // sortby
                        null);                   // maxEntries
        assertEquals(mExpectedEntryCount-mExpectedPublishedEntryCount, draftEntries.size());
                          
        // PUBLISHED and DRAFT
        List allEntries = wmgr.getWeblogEntries(
                        website,                 // userName
                        null,                    // startDate
                        new Date(),              // endDate
                        null,                    // catName
                        null,                    // status
                        null,                    // sortby
                        null);                   // maxEntries
        assertEquals(mExpectedEntryCount, allEntries.size());

        // no status specified      
        List allEntries2 = wmgr.getWeblogEntries(
                        website,                 // userName
                        null,                    // startDate
                        new Date(),              // endDate
                        null,                    // catName
                        null,                    // status
                        null,                    // sortby
                        null);                   // maxEntries
        assertEquals(mExpectedEntryCount, allEntries2.size());
                                            
        getRoller().commit();
    }

