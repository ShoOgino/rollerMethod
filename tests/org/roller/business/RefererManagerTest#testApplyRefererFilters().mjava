    public void testApplyRefererFilters() throws Exception    {        List refs = rmgr.getReferers(mWebsite);        assertEquals(count, refs.size());        String origWords = null;                getRoller().begin(UserData.SYSTEM_USER);        Roller mRoller = getRoller();        PropertiesManager pmgr = mRoller.getPropertiesManager();        RollerPropertyData spamprop = pmgr.getProperty("spam.blacklist");        origWords = spamprop.getValue();        spamprop.setValue(spamprop.getValue() + ", test");        pmgr.store(spamprop);        getRoller().commit();                getRoller().begin(UserData.SYSTEM_USER);        getRoller().getRefererManager().applyRefererFilters();        getRoller().commit();                refs = rmgr.getReferers(mWebsite);        assertEquals(0, refs.size());        getRoller().begin(UserData.SYSTEM_USER);        spamprop = pmgr.getProperty("spam.blacklist");        spamprop.setValue(origWords);        pmgr.store(spamprop);        getRoller().commit();    }
