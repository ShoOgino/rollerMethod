    //------------------------------------------------------------------------------
    /** 
     * Test that PUT on the EditURI updates an entry.
     */
    public void testPutEntry() throws Exception
    {
        UserData user = (UserData)mUsersCreated.get(0);
        WebsiteData website = (WebsiteData)
            getRoller().getUserManager().getWebsites(user, null).get(0);        
        
        WeblogEntryData entry = (WeblogEntryData) 
            getRoller().getWeblogManager().getWeblogEntries(
                website, null, null, null, null, new Integer(1)).get(0);
        
        // Fetch that entry using Atom
        Entry fetchedEntry = getEntry(user, entry.getId());
        assertEquals(entry.getId(), fetchedEntry.getId());
        
        // Make a change to the fetched entry
        fetchedEntry.setTitle("TEST TITLE");
        
        // Use Atom PUT to update the entry
        StringWriter entryWriter = new StringWriter();
        AtomServlet.serializeEntry(fetchedEntry, entryWriter);
        MockHttpServletRequest mockRequest2 = getMockFactory().getMockRequest();
        mockRequest2.setContextPath("/atom");
        mockRequest2.setPathInfo(user.getUserName() + "/entry/" + entry.getId());
        mockRequest2.addHeader("X-WSSE", 
           generateWSSEHeader(user.getUserName(), user.getPassword()));
        mockRequest2.setBodyContent(entryWriter.toString());
        getServletModule().doPut();      
        
        getRoller().release();
        resetMocks();

        // Get the entry again to make sure the update was made
        Entry fetchedEntry2 = getEntry(user, entry.getId());
        assertEquals(fetchedEntry.getTitle(), fetchedEntry2.getTitle());
    }

