    public void testServiceBean() {
        
        AtomService.Collection collection = new AtomService.Collection();
        collection.setTitle("All blog entries");
        collection.setContents("entries");
        collection.setHref("http://example.com/collection1");
        
        AtomService.Workspace workspace = new AtomService.Workspace();
        workspace.setTitle("My blog");
        workspace.addCollection(collection);
        
        AtomService service = new AtomService();
        service.addWorkspace(workspace);

        // serialize to XML
        Document doc = AtomService.serviceToDocument(service);
        assertEquals("service", doc.getRootElement().getName());
        assertEquals(1, doc.getRootElement().getContent().size());
  
        // deserialize from XML and assert we've got the same stuff
        AtomService service2 = AtomService.documentToService(doc);
        
        AtomService.Workspace workspace2 = 
            (AtomService.Workspace)service2.getWorkspaces().get(0);
        assertEquals("My blog", workspace2.getTitle());
        
        AtomService.Collection collection2 = 
            (AtomService.Collection)workspace2.getCollections().get(0);
        assertEquals("All blog entries", collection2.getTitle());
        assertEquals("entries", collection.getContents());
        assertEquals("http://example.com/collection1", collection2.getHref());
    }

