  /*
   * (non-Javadoc)
   * 
   * @see org.apache.roller.ui.core.security.AutoProvision#execute()
   */
  public boolean execute() {
    User ud = CustomUserRegistry.getUserDetailsFromAuthentication();
    
    if(ud != null) {
      UserManager mgr;
      try {
        mgr = RollerFactory.getRoller().getUserManager();
        mgr.addUser(ud);
        RollerFactory.getRoller().flush();
      } catch (RollerException e) {
        log.warn("Error while auto-provisioning user from SSO.", e);
      }
    }

    return true;
  }

