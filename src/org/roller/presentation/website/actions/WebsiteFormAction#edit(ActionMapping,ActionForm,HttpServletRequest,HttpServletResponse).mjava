    //-----------------------------------------------------------------------
    public ActionForward edit(
        ActionMapping       mapping,
        ActionForm          actionForm,
        HttpServletRequest  request,
        HttpServletResponse response)
        throws IOException, ServletException
    {
        ActionForward forward = mapping.findForward("editWebsite.page");
        try
        {
            RollerRequest rreq = RollerRequest.getRollerRequest(request);
            if ( rreq.isUserAuthorizedToEdit() )
            {
                UserData ud = rreq.getAuthenticatedUser();
                request.setAttribute("user",ud);

                WebsiteData hd = rreq.getCurrentWebsite();
                WebsiteForm wf = (WebsiteFormEx)actionForm;
                wf.copyFrom(hd, request.getLocale());

                List cd = rreq.getRoller().getWeblogManager()
                   .getWeblogCategories(rreq.getCurrentWebsite(), true);
                request.setAttribute("categories",cd);

                List bcd = rreq.getRoller().getWeblogManager()
                    .getWeblogCategories(rreq.getCurrentWebsite(), true);
                request.setAttribute("bloggerCategories",bcd);

                List pages = rreq.getRoller().getUserManager().getPages(rreq.getCurrentWebsite());
                request.setAttribute("pages",pages);

                ServletContext ctx = request.getSession().getServletContext();
                String editorPages = 
                        RollerRuntimeConfig.getProperty("users.editor.pages");
                
                List epages = Arrays.asList(StringUtils.split(StringUtils.deleteWhitespace(editorPages), ","));
                request.setAttribute("editorPagesList", epages);
            }
            else
            {
                forward = mapping.findForward("access-denied");
            }
        }
        catch (Exception e)
        {
            throw new ServletException(e);
        }
        return forward;
    }

