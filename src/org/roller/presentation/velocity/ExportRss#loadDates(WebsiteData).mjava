    /**     * Load time-related information.     * @param website     */    private void loadDates(WebsiteData website)    {        try        {            // Add current time and last updated times to context            Date updateTime = RollerFactory.getRoller().getWeblogManager()                .getWeblogLastPublishTime(website, null);                                    ctx.put("updateTime",   updateTime);        }        catch (RollerException e)        {                                   ctx.put("updateTime",   new Date());        }        ctx.put("now",              new Date());                // setup Locale for future rendering        Locale locale = website.getLocaleInstance();        ctx.put("locale", locale);                // setup Timezone for future rendering        ctx.put("timeZone", website.getTimeZoneInstance());        // date formats need to be run through the Localized        // SimpleDateFormat and pulled back out as localized patterns.        SimpleDateFormat sdf = new SimpleDateFormat("yyyyMMdd", locale);          sdf.setTimeZone( (TimeZone)ctx.get("timeZone") );            ctx.put("plainFormat",     sdf.toLocalizedPattern());                sdf.applyPattern("EEEE MMMM dd, yyyy");        ctx.put("toStringFormat",  sdf.toLocalizedPattern());                sdf.applyPattern("MMM dd yyyy, hh:mm:ss a z");        ctx.put("timestampFormat", sdf.toLocalizedPattern());                ctx.put("dateFormatter", sdf );    }
