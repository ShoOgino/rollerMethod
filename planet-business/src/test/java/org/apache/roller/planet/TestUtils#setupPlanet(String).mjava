    /**
     * Convenience method that creates a planet and stores it.
     */
    public static Planet setupPlanet(String handle) throws Exception {
        
        Planet testPlanet = new Planet(handle, handle, handle);
        
        // store
        PlanetManager mgr = PlanetFactory.getPlanet().getPlanetManager();
        mgr.savePlanet(testPlanet);
        
        // flush
        PlanetFactory.getPlanet().flush();
        
        // query to make sure we return the persisted object
        Planet planet = mgr.getPlanet(handle);
        
        if(planet == null)
            throw new PlanetException("error inserting new planet");
        
        return planet;
    }

