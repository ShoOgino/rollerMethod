    public void start() throws Exception {
        log.info("**************");
        log.info("Starting Derby");
        log.info("**************");
        try {
            System.setProperty("derby.system.home", database);
            System.setProperty("derby.drda.portNumber", port);
            System.setProperty("derby.drda.host", "localhost");
            NetworkServerControl server = new NetworkServerControl();
            server.start(new PrintWriter(System.out));
            try {Thread.sleep(2000);} catch (Exception ignored) {}
            started = true;
            starting = false;
            stopping = false;
            failed = false;
        } catch (Exception e) {
            failed = true;
            starting = false;
            throw new Exception("Unable to start Derby. EXCEPTION: "
                    + e.getClass().getName() + " Message: " + e.getMessage());
        }
    }

